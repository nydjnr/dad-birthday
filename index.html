<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy 46th Birthday George Danquah</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
:root{
  --gold:#d4af37;
  --soft-gold:#f3e6b3;
  --white:#ffffff;
}

body{
  margin:0;
  font-family:'Poppins', sans-serif;
  background:linear-gradient(135deg,#ffffff,#faf7ef);
  color:#333;
  text-align:center;
  overflow-x:hidden;
}

section{
  padding:60px 20px;
  max-width:1000px;
  margin:auto;
}

h1,h2{
  font-family:'Playfair Display', serif;
  color:var(--gold);
}

/* HERO */
.hero{
  background:radial-gradient(circle at top,var(--soft-gold),white);
  padding:90px 20px;
}

/* CAKE SECTION ‚Äì pushed DOWN */
.cake-section{
  margin-top:120px;   /* THIS pushes cake down */
}

/* CAKE */
.cake-wrapper{
  position:relative;
  width:170px;
  margin:0 auto 20px;
}

.cake-body{
  width:170px;
  height:90px;
  background:linear-gradient(#fff,#f3e6b3);
  border-radius:0 0 25px 25px;
  box-shadow:0 10px 30px rgba(0,0,0,0.15);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:32px;
  font-weight:700;
  color:var(--gold);
}

.candles{
  position:absolute;
  top:-40px;
  width:100%;
  display:flex;
  justify-content:space-around;
}

.candle{
  width:14px;
  height:45px;
  background:white;
  border-radius:5px;
  position:relative;
}

.flame{
  width:16px;
  height:16px;
  background:orange;
  border-radius:50%;
  position:absolute;
  top:-18px;
  left:-1px;
  box-shadow:0 0 15px orange;
  animation:flicker .2s infinite;
}

@keyframes flicker{
  0%{transform:scale(1);}
  50%{transform:scale(0.9);}
  100%{transform:scale(1);}
}

#cakeText{
  margin-top:25px;
  font-size:1.1rem;
  color:#555;
}

/* CONFETTI */
.confetti{
  position:fixed;
  width:8px;
  height:8px;
  background:var(--gold);
  top:0;
  animation:fall 3s linear forwards;
}

@keyframes fall{
  to{
    transform:translateY(100vh) rotate(360deg);
    opacity:0;
  }
}
</style>
</head>

<body>

<!-- HERO -->
<section class="hero">
  <h1>Happy 46th Birthday</h1>
  <h2>George Danquah</h2>
  <p>A celebration of strength, wisdom, and love ü§ç</p>
</section>

<!-- CAKE -->
<section class="cake-section">
  <h2>Make a Wish üéÇ</h2>
  <p>Tap anywhere, then blow into the mic</p>

  <div class="cake-wrapper">
    <div class="candles">
      <div class="candle"><div class="flame"></div></div>
      <div class="candle"><div class="flame"></div></div>
      <div class="candle"><div class="flame"></div></div>
      <div class="candle"><div class="flame"></div></div>
    </div>
    <div class="cake-body">46</div>
  </div>

  <p id="cakeText">üé§ Ready when you are</p>
</section>

<audio id="birthdaySong">
  <source src="birthday.mp3" type="audio/mpeg">
</audio>

<script>
let started=false;

document.body.addEventListener("click", async ()=>{
  if(started) return;
  started=true;

  document.getElementById("birthdaySong").play().catch(()=>{});

  try{
    const stream=await navigator.mediaDevices.getUserMedia({audio:true});
    const audioCtx=new AudioContext();
    const mic=audioCtx.createMediaStreamSource(stream);
    const analyser=audioCtx.createAnalyser();
    mic.connect(analyser);

    const data=new Uint8Array(analyser.frequencyBinCount);
    let blown=false;

    function detect(){
      analyser.getByteFrequencyData(data);
      const volume=data.reduce((a,b)=>a+b)/data.length;

      if(volume>40 && !blown){
        blown=true;

        document.querySelectorAll(".flame").forEach(f=>f.style.display="none");
        document.getElementById("cakeText").innerHTML=
          "üéâ <strong>Happy 46th Birthday George Danquah!</strong> üéâ";

        for(let i=0;i<50;i++){
          const c=document.createElement("div");
          c.className="confetti";
          c.style.left=Math.random()*100+"vw";
          c.style.background=i%2?"#f3e6b3":"#d4af37";
          document.body.appendChild(c);
          setTimeout(()=>c.remove(),3000);
        }
        return;
      }
      requestAnimationFrame(detect);
    }
    detect();
  }catch{}
});
</script>

</body>
</html>
