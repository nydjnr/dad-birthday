<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy 46th Birthday George Danquah</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
:root{
  --gold:#d4af37;
  --soft-gold:#f3e6b3;
  --white:#ffffff;
}

body{
  margin:0;
  font-family:'Poppins', sans-serif;
  background:linear-gradient(135deg,#ffffff,#faf7ef);
  color:#333;
}

section{
  padding:60px 20px;
  max-width:1000px;
  margin:auto;
  text-align:center;
}

h1,h2{
  font-family:'Playfair Display', serif;
  color:var(--gold);
}

.hero{
  background:radial-gradient(circle at top,var(--soft-gold),white);
  padding:90px 20px;
}

.hero h1{
  font-size:2.8rem;
}

.hero p{
  font-size:1.2rem;
  color:#555;
}

.photo img{
  max-width:280px;
  width:100%;
  border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,0.15);
}

.letter-box{
  background:white;
  border:1px solid var(--soft-gold);
  border-radius:20px;
  padding:30px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  max-width:700px;
  margin:auto;
}

#letterText{
  font-size:1.05rem;
  line-height:1.8;
  text-align:left;
  white-space:pre-wrap;
}

button{
  background:var(--gold);
  color:white;
  border:none;
  padding:12px 24px;
  border-radius:30px;
  font-size:1rem;
  cursor:pointer;
}

button:hover{
  opacity:0.9;
}

/* Cake */
#cake{
  display:flex;
  flex-direction:column;
  align-items:center;
}

#candle{
  width:20px;
  height:60px;
  background:white;
  border-radius:5px;
  position:relative;
  margin-bottom:10px;
}

#flame{
  width:18px;
  height:18px;
  background:orange;
  border-radius:50%;
  position:absolute;
  top:-18px;
  left:1px;
  box-shadow:0 0 15px orange;
  animation:flicker .2s infinite;
}

@keyframes flicker{
  0%{transform:scale(1);}
  50%{transform:scale(0.9);}
  100%{transform:scale(1);}
}

#cakeText{
  margin-top:18px;
  font-weight:500;
  color:var(--gold);
  font-size:1.1rem;
}

/* Footer */
footer{
  padding:30px;
  text-align:center;
  color:#777;
  font-size:0.9rem;
}
</style>
</head>

<body>

<!-- HERO -->
<section class="hero">
  <h1>Happy 46th Birthday</h1>
  <h2>George Danquah</h2>
  <p>A celebration of strength, wisdom, and love ü§ç</p>
</section>

<!-- PHOTO -->
<section class="photo">
  <img src="dad.jpg" alt="George Danquah">
</section>

<!-- LETTER -->
<section>
  <h2>A Birthday Letter üíå</h2>
  <div class="letter-box">
    <p id="letterText"></p>
    <button onclick="startLetter()">Open Letter</button>
  </div>
</section>

<!-- CAKE -->
<section>
  <h2>Make a Wish üéÇ</h2>
  <p>46 years of greatness ‚ú®</p>

  <div id="cake">
    <div id="candle">
      <div id="flame"></div>
    </div>
    <p id="cakeText">Blow into the mic to blow out the candle üé§</p>
  </div>
</section>

<footer>
  Made with love ü§ç
</footer>

<script>
/* Letter animation */
const letter = `Dear Dad,

Happy 46th Birthday üéâ

Today we celebrate not just your age, but the life you‚Äôve built, the values you live by, and the love you give so freely.

You are a source of strength, wisdom, and guidance. Your hard work, discipline, and kindness inspire everyone around you ‚Äî especially me.

Thank you for being a constant pillar, a teacher, and a role model.
May this new year bring you peace, good health, and happiness beyond measure.

We love you always.

With all my heart,
ü§ç`;

let i=0;
function startLetter(){
  document.getElementById("letterText").innerHTML="";
  i=0;
  const interval=setInterval(()=>{
    if(i < letter.length){
      document.getElementById("letterText").innerHTML += letter.charAt(i);
      i++;
    }else{
      clearInterval(interval);
    }
  },40);
}

/* Mic candle */
async function startMic(){
  try{
    const stream = await navigator.mediaDevices.getUserMedia({ audio:true });
    const audioContext = new AudioContext();
    const mic = audioContext.createMediaStreamSource(stream);
    const analyser = audioContext.createAnalyser();
    mic.connect(analyser);

    const data = new Uint8Array(analyser.frequencyBinCount);
    let blown=false;

    function detect(){
      analyser.getByteFrequencyData(data);
      const volume = data.reduce((a,b)=>a+b)/data.length;

      if(volume > 40 && !blown){
        blown=true;
        document.getElementById("flame").style.display="none";
        document.getElementById("cakeText").innerHTML=
          "üéâ <strong>Happy 46th Birthday George Danquah!</strong> üéâ<br>Make a wish ü§ç";
        return;
      }
      requestAnimationFrame(detect);
    }
    detect();
  }catch{
    document.getElementById("cakeText").innerText="Please allow microphone access üé§";
  }
}
startMic();
</script>

</body>
</html>
